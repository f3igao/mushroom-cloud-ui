(this["webpackJsonpmushroom-cloud-ui"]=this["webpackJsonpmushroom-cloud-ui"]||[]).push([[0],{115:function(e,t,n){"use strict";t.a=n.p+"static/media/algo_light.4f066c4c.svg"},13:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return b})),n.d(t,"o",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"j",(function(){return o})),n.d(t,"p",(function(){return h})),n.d(t,"l",(function(){return w})),n.d(t,"n",(function(){return S})),n.d(t,"k",(function(){return k})),n.d(t,"m",(function(){return y}));var r,a,s,c,o,i="https://bridge.walletconnect.org",u="https://node.algoexplorerapi.io",l="https://node.testnet.algoexplorerapi.io",d="https://algoindexer.algoexplorerapi.io/",f="https://algoindexer.testnet.algoexplorerapi.io/",p="ipfs://",b="https://ipfs.io/ipfs/";function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return"".concat(e.slice(0,t),"...").concat(e.slice(-t))}!function(e){e.MainNet="mainnet",e.TestNet="testnet"}(r||(r={})),function(e){e.Pending="pending",e.Active="active",e.Complete="complete"}(a||(a={})),function(e){e.Seller="seller",e.AssetIndex="asset_index",e.Price="price",e.ContractResult="contract_result",e.Status="status",e.IsMain="is_main",e.CreatedOn="created_on",e.UpdatedOn="updated_on"}(s||(s={})),function(e){e.AssetSaleContracts="asset_sale_contracts"}(c||(c={})),function(e){e.Production="production"}(o||(o={}));var j,m,v,x,O=n(49),g=n(50),w=g.a.button(j||(j=Object(O.a)(["\n  border-radius: 0.5rem;\n  padding: 0.5rem 1rem;\n"]))),S=g.a.img(m||(m=Object(O.a)(["\n  max-width: 100%;\n  border-radius: 0.5rem;\n  border-style: solid;\n  border-width: 0.05rem;\n"]))),k=g.a.div(v||(v=Object(O.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 1rem 2rem 1rem;\n  overflow-wrap: break-word;\n"]))),y=g.a.img(x||(x=Object(O.a)(["\n  height: 1rem;\n  margin-left: 0.2rem;\n"])))},200:function(e,t,n){"use strict";(function(e){var r=n(41),a=n(3),s=n(1),c=n(2),o=n(9),i=n(10),u=n(0),l=n.n(u),d=n(57),f=n(22),p=n(5),b=n.n(p),h=n(15),j=n(115),m=n(218),v=n(201),x=n(59),O=n(202),g=n(203),w=n(205),S=n(13),k=n(6),y={fetching:!1,contract:null,price:-1,owner:"",assetInfo:null,imageSrc:"",description:"",status:null},A=function(t){Object(o.a)(u,t);var n=Object(i.a)(u);function u(t){var c;return Object(s.a)(this,u),(c=n.call(this,t)).firebaseService=new g.a,c.contractService=new O.a,c.transactionService=new w.a,c.chainService=new x.a,c.setAsset=function(){var e=Object(a.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.setState({fetching:!0}),c.chainService.indexer.lookupAssetByID(t).do().then((function(e){var t=e.asset.params;c.setState({assetInfo:t,fetching:!1}),c.getAssetMetadata(t.url)})).catch((function(e){console.error(e)})),c.chainService.indexer.lookupAssetBalances(t).do().then((function(e){var t=e.balances.find((function(e){return e.amount}));c.setState({owner:t.address})})),c.firebaseService.getContractForAsset(t).then((function(e){c.setState({contract:e,price:null===e||void 0===e?void 0:e.data()[S.e.Price],status:null===e||void 0===e?void 0:e.data()[S.e.Status]})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.sellAsset=function(){var e=Object(a.a)(l.a.mark((function e(t){var n,r,a,s,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.props,r=n.address,a=n.assetIndex,!r||!t){e.next=21;break}return c.setState({fetching:!0}),e.prev=3,e.next=6,c.contractService.generateAssetSaleContract(r,a,t);case 6:return s=e.sent,o=s.result,e.next=10,c.firebaseService.addDocument(S.d.AssetSaleContracts,{seller:r,asset_index:a,price:t,contract_result:o,status:S.o.Pending,is_main:c.chainService.isMainNet,created_on:Object(d.i)()});case 10:return i=e.sent,e.next=13,c.transactionService.sellAsset({seller:r,assetIndex:a,contractResult:o});case 13:c.firebaseService.updateDocument(S.d.AssetSaleContracts,i.id,{status:S.o.Active,updated_on:Object(d.i)()}),c.setState({contract:i,status:S.o.Active,price:t}),e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(3),e.t0;case 20:c.setState({fetching:!1});case 21:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t){return e.apply(this,arguments)}}(),c.buyAsset=Object(a.a)(l.a.mark((function t(){var n,r,a,s,o,i,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.props.address){t.next=3;break}return c.props.connector.createSession(),t.abrupt("return");case 3:if(n=c.state.contract.data()[S.e.ContractResult],r=new Uint8Array(e.from(n,"base64")),a=new f.LogicSigAccount(r),s=c.props.address,o=c.state.contract.data()[S.e.Seller],i=c.props.assetIndex,u=c.state.contract.data()[S.e.Price],!(s&&o&&a&&i&&u)){t.next=23;break}return c.setState({fetching:!0}),t.prev=12,t.next=15,c.transactionService.buyAsset({buyer:s,seller:o,assetIndex:i,price:u,contractSig:a});case 15:c.firebaseService.updateDocument(S.d.AssetSaleContracts,c.state.contract.id,{status:S.o.Complete,updated:Object(d.i)(),buyer:s}),c.setState({status:S.o.Complete,contract:null}),t.next=22;break;case 19:throw t.prev=19,t.t0=t.catch(12),t.t0;case 22:c.setState({fetching:!1});case 23:case"end":return t.stop()}}),t,null,[[12,19]])}))),c.getAssetMetadata=function(){var e=Object(a.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.replace(S.h,S.i),e.next=3,c.contractService.getAssetMetadataFromIpfs(n);case 3:r=e.sent,a=r.properties.source_image.replace(S.h,S.i),c.setState({description:r.description,imageSrc:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.state=Object(r.a)({},y),c}return Object(c.a)(u,[{key:"componentDidMount",value:function(){this.firebaseService.setup({account:this.props.address}),this.setAsset(this.props.assetIndex),console.log("mainnet:",this.chainService.isMainNet)}},{key:"render",value:function(){var e=this,t=this.state.assetInfo;return t&&Object(k.jsxs)("div",{className:"pv5 ph6",children:[Object(k.jsx)("p",{className:"f3 b",children:t.name}),Object(k.jsxs)("div",{className:"flex justify-between",children:[Object(k.jsxs)("div",{className:"w-40",children:[Object(k.jsx)(S.n,{src:this.state.imageSrc,alt:"nft"}),Object(k.jsx)("div",{className:"mt3",children:function(){var n=(null===t||void 0===t?void 0:t.manager)===e.props.address,r=e.state.contract;return e.state.status===S.o.Complete?Object(k.jsx)(S.l,{disabled:!0,className:"w-100",children:Object(k.jsxs)("div",{className:"flex justify-center",children:[Object(k.jsxs)("span",{className:"white",children:["Sold for ",e.state.price]}),Object(k.jsx)(S.m,{src:j.a,alt:"algos"})]})}):n?r?Object(k.jsx)(S.l,{disabled:!0,className:"w-100",children:Object(k.jsxs)("div",{className:"flex justify-center",children:[Object(k.jsxs)("span",{className:"white",children:["On Sale for ",e.state.price]}),Object(k.jsx)(S.m,{src:j.a,alt:"algos"})]})}):Object(k.jsx)(v.a,{sellAsset:e.sellAsset}):r?Object(k.jsx)(m.a,{price:e.state.price,buyAsset:e.buyAsset}):Object(k.jsx)(S.l,{disabled:!0,className:"w-100",children:"Not on Sale"})}()})]}),Object(k.jsxs)("div",{className:"w-50",children:[Object(k.jsxs)(S.k,{children:[Object(k.jsx)("span",{className:"b mb1 color-accent",children:"owner"}),Object(k.jsx)("span",{children:this.state.owner})]}),this.state.description&&Object(k.jsxs)(S.k,{children:[Object(k.jsx)("span",{className:"b mb1 color-accent",children:"description"}),Object(k.jsx)("span",{children:this.state.description})]}),Object(k.jsxs)(S.k,{children:[Object(k.jsx)("span",{className:"b mb1 color-accent",children:"url"}),Object(k.jsx)("span",{children:t.url})]}),Object(k.jsxs)(S.k,{children:[Object(k.jsx)("span",{className:"b mb1 color-accent",children:"creator"}),Object(k.jsx)("span",{children:t.creator})]})]})]})]})}}]),u}(b.a.Component);t.a=function(e){var t=Object(h.h)();return Object(k.jsx)(A,Object(r.a)(Object(r.a)({},e),{},{assetIndex:Number(t.index)}))}}).call(this,n(24).Buffer)},201:function(e,t,n){"use strict";var r=n(1),a=n(2),s=n(9),c=n(10),o=n(5),i=n.n(o),u=n(13),l=n(6),d=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={price:-1},e.onSellAsset=function(){return e.props.sellAsset(e.state.price)},e.onInputChange=function(t){var n,r=null!==(n=parseInt(t.target.value))&&void 0!==n?n:-1;e.setState({price:r})},e}return Object(a.a)(n,[{key:"render",value:function(){return Object(l.jsxs)("div",{className:"mv3 w-100 flex items-center justify-between",children:[Object(l.jsx)("input",{className:"pa2 ba br2 w-60",type:"number",min:"1",step:"1",name:"price",onChange:this.onInputChange,required:!0,placeholder:"Price in Algo"}),Object(l.jsx)(u.l,{className:"w-third pointer",onClick:this.onSellAsset,children:"Put on Sale"})]})}}]),n}(i.a.Component);t.a=d},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=n(2),s=n(1),c=n(0),o=n.n(c),i=Object(a.a)((function e(){Object(s.a)(this,e),this.generateAssetSaleContract=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="https://us-central1-".concat("mushroom-cloud-api",".cloudfunctions.net/asset_sale_contract?seller=").concat(t,"&asset=").concat(n,"&price=").concat(r),e.next=4,fetch(a);case 4:return s=e.sent,e.next=7,s.json();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),this.getAssetMetadataFromIpfs=function(){var e=Object(r.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",fetch(t).then((function(e){return null===e||void 0===e?void 0:e.json()})));case 4:throw e.prev=4,e.t0=e.catch(0),e.t0;case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()}))},203:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),a=n(2),s=n(1),c=n(0),o=n.n(c),i=n(217),u=n(204),l=n(20),d=n(59),f={apiKey:"AIzaSyBVm40DDVu0VgoySUOe_4aJ1JPbaY2WRp0",authDomain:"mushroom-cloud-apifirebaseapp.com",projectId:"mushroom-cloud-api",storageBucket:"mushroom-cloud-apiappspot.com",messagingSenderId:"138191449972",appId:"1:138191449972:web:e9ab144c0b4bc016cb0621"},p=Object(a.a)((function e(){var t=this;Object(s.a)(this,e),this.currentAccountData={},this.chainService=new d.a,this.setup=function(){var e=Object(r.a)(o.a.mark((function e(n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.account,Object(u.a)(f),Object(i.a)(),!r){e.next=10;break}return e.next=6,t.getDocument("accounts",r);case 6:a=e.sent,t.currentAccountData=a.exists()?a.data():{},e.next=11;break;case 10:t.currentAccountData={};case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addDocument=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(l.g)(),a=Object(l.b)(r,t),e.next=4,Object(l.a)(a,n);case 4:return s=e.sent,e.next=7,Object(l.e)(s);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getDocument=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(l.g)(),a=Object(l.d)(r,t,n),e.next=4,Object(l.e)(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.updateDocument=function(){var e=Object(r.a)(o.a.mark((function e(t,n,r){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(l.g)(),s=Object(l.d)(a,t,n),e.next=4,Object(l.i)(s,r);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),this.deleteDocument=function(){var e=Object(r.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(l.g)(),a=Object(l.d)(r,t,n),e.next=4,Object(l.c)(a);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getContractForAsset=function(){var e=Object(r.a)(o.a.mark((function e(t){var n,r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.g)(),r=Object(l.b)(n,"asset_sale_contracts"),a=Object(l.h)(r,Object(l.j)("asset_index","==",t),Object(l.j)("status","==","active")),e.next=5,Object(l.f)(a);case 5:if(!((s=e.sent).docs.length>0&&s.docs[0].exists())){e.next=10;break}return e.abrupt("return",s.docs[0]);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getContractsForSeller=function(){var e=Object(r.a)(o.a.mark((function e(n){var r,a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(l.g)(),a=Object(l.b)(r,"asset_sale_contracts"),s=Object(l.h)(a,Object(l.j)("seller","==",n),Object(l.j)("status","==","active"),Object(l.j)("is_main","==",t.chainService.isMainNet)),e.next=5,Object(l.f)(s);case 5:return c=e.sent,e.abrupt("return",c.docs);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}))},205:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(3),a=n(2),s=n(1),c=n(0),o=n.n(c),i=n(22),u=n.n(i),l=n(59),d=n(83),f=Object(a.a)((function t(){var n=this;Object(s.a)(this,t),this.algod=(new l.a).algod,this.walletService=new d.a,this.sendAndConfirm=function(){var e=Object(r.a)(o.a.mark((function e(t){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.algod.sendRawTransaction(t).do();case 3:return r=e.sent,console.log("sentTxns",r),e.next=7,u.a.waitForConfirmation(n.algod,r.txId,4);case 7:return a=e.sent,console.log("success",a),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),this.sellAsset=function(){var t=Object(r.a)(o.a.mark((function t(r){var a,s,c,l,d,f,p,b,h,j,m,v;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.seller,s=r.assetIndex,c=r.contractResult,t.prev=1,l=new Uint8Array(e.from(c,"base64")),d=new i.LogicSigAccount(l),t.next=6,n.algod.getTransactionParams().do();case 6:return f=t.sent,p=u.a.makePaymentTxnWithSuggestedParamsFromObject({from:a,to:d.address(),amount:5e5,suggestedParams:f}),b=u.a.makeAssetTransferTxnWithSuggestedParamsFromObject({from:d.address(),to:d.address(),amount:0,assetIndex:s,suggestedParams:f}),h=u.a.makeAssetTransferTxnWithSuggestedParamsFromObject({from:a,to:d.address(),assetIndex:s,amount:1,suggestedParams:f}),j=u.a.assignGroupID([p,b,h]),t.next=13,n.walletService.sign(j);case 13:return(m=t.sent)[1]=u.a.signLogicSigTransactionObject(j[1],d).blob,t.next=17,n.sendAndConfirm(m);case 17:return v=t.sent,t.abrupt("return",v);case 21:throw t.prev=21,t.t0=t.catch(1),t.t0;case 24:case"end":return t.stop()}}),t,null,[[1,21]])})));return function(e){return t.apply(this,arguments)}}(),this.buyAsset=function(){var e=Object(r.a)(o.a.mark((function e(t){var r,a,s,c,i,l,d,f,p,b,h,j,m,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.buyer,a=t.seller,s=t.assetIndex,c=t.price,i=t.contractSig,e.prev=1,e.next=4,n.algod.getTransactionParams().do();case 4:return d=e.sent,f=u.a.makePaymentTxnWithSuggestedParamsFromObject({from:r,to:a,amount:1e6*c*.9,suggestedParams:d}),p=u.a.makeAssetTransferTxnWithSuggestedParamsFromObject({from:r,to:r,amount:0,assetIndex:s,suggestedParams:d}),b=u.a.makeAssetTransferTxnWithSuggestedParamsFromObject({from:i.address(),to:r,amount:1,assetIndex:s,closeRemainderTo:r,suggestedParams:d}),h=u.a.makePaymentTxnWithSuggestedParamsFromObject({from:i.address(),to:a,amount:0,closeRemainderTo:a,suggestedParams:d}),j=u.a.makePaymentTxnWithSuggestedParamsFromObject({from:r,to:null!==(l="E6U45JTJJQKGIQXECBTUAEARHU7PKCSRVLR5Q4PWT2EDG5XSOVOMK77LUA")?l:"",amount:1e6*c*.1,suggestedParams:d}),m=u.a.assignGroupID([f,p,b,h,j]),e.next=13,n.walletService.sign(m);case 13:return(v=e.sent)[2]=u.a.signLogicSigTransactionObject(m[2],i).blob,v[3]=u.a.signLogicSigTransactionObject(m[3],i).blob,e.next=18,n.sendAndConfirm(v);case 18:return e.abrupt("return",e.sent);case 21:throw e.prev=21,e.t0=e.catch(1),e.t0;case 24:case"end":return e.stop()}}),e,null,[[1,21]])})));return function(t){return e.apply(this,arguments)}}()}))}).call(this,n(24).Buffer)},218:function(e,t,n){"use strict";var r=n.p+"static/media/algo_dark.325d1e4a.svg",a=n(13),s=n(6);t.a=function(e){var t=e.price,n=e.buyAsset;return Object(s.jsx)(a.l,{className:"pointer-fade w-100",onClick:n,children:Object(s.jsxs)("div",{className:"flex justify-center",children:[t,Object(s.jsx)(a.m,{src:r,alt:"algos"})]})})}},224:function(e,t,n){},226:function(e,t,n){},248:function(e,t){},250:function(e,t){},262:function(e,t){},264:function(e,t){},291:function(e,t){},292:function(e,t){},298:function(e,t){},300:function(e,t){},318:function(e,t){},378:function(e,t,n){"use strict";n.r(t);var r,a=n(5),s=n.n(a),c=n(196),o=n.n(c),i=(n(224),n(41)),u=n(3),l=n(1),d=n(2),f=n(9),p=n(10),b=n(0),h=n.n(b),j=n(215),m=n(15),v=(n(226),n(49)),x=n(50),O=n.p+"static/media/logo.21e62254.svg",g=n(13),w=n(6),S=x.a.span(r||(r=Object(v.a)(["\n  color: aqua;\n"]))),k=function(e){var t=e.address,n=e.connector,r=e.killSession,a=function(){var e=Object(u.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.createSession());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"flex items-start justify-between",children:[Object(w.jsxs)("div",{className:"flex items-center f4 b w-50",children:[Object(w.jsx)("img",{src:O,className:"app-logo mr2",alt:"logo"}),"Mushroom Cloud NFT"]}),t?Object(w.jsxs)("div",{className:"flex flex-column tr",children:[Object(w.jsx)(S,{className:"b",children:Object(g.p)(t)}),Object(w.jsx)("span",{className:"pointer-fade",onClick:r,children:"Disconnect"})]}):Object(w.jsx)(g.l,{className:"pointer-fade",onClick:a,children:"Connect Wallet"})]})},y=n(200),A=function(){return Object(w.jsxs)("div",{className:"vh-75 flex flex-column justify-center",children:[Object(w.jsx)("h1",{children:"Mushroom Cloud LA / Proximities"}),Object(w.jsx)("h2",{children:"by Nancy Baker Cahill"})]})},C={connector:(new(n(83).a)).connector,fetching:!1,connected:!1,accounts:[],address:""},N=function(e){Object(f.a)(n,e);var t=Object(p.a)(n);function n(e){var r;Object(l.a)(this,n),(r=t.call(this,e)).subscribeToWalletEvents=function(){var e=r.state.connector;if(e){if(e.on("connect",(function(e,t){if(console.log('connector.on("connect")'),e)throw e;r.onConnect(t)})),e.on("session_update",function(){var e=Object(u.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log('connector.on("session_update")'),!t){e.next=3;break}throw t;case 3:a=n.params[0].accounts,r.onSessionUpdate(a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.on("disconnect",(function(e,t){if(console.log('connector.on("disconnect")'),e)throw e;r.onDisconnect()})),e.connected){var t=e.accounts;r.setState({connected:!0,accounts:t,address:t[0]}),r.onSessionUpdate(t)}r.setState({connector:e})}},r.onConnect=function(e){var t=e.params[0].accounts;r.setState({connected:!0,accounts:t,address:t[0]})},r.onSessionUpdate=function(e){r.setState({accounts:e,address:e[0]})},r.onDisconnect=function(){r.setState(Object(i.a)({},C))},r.killSession=function(){var e=r.state.connector;e&&e.killSession(),r.setState(Object(i.a)({},C))};var a=C.connector,s=a.connected,c=a.accounts;return r.state=Object(i.a)(Object(i.a)({},C),{},{connected:s,accounts:c,address:c[0]}),r}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.subscribeToWalletEvents()}},{key:"render",value:function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)(k,{address:this.state.address,connector:this.state.connector,killSession:this.killSession}),Object(w.jsx)(j.a,{basename:"/mushroom-cloud-ui",children:Object(w.jsxs)(m.d,{children:[Object(w.jsx)(m.b,{path:"/",element:Object(w.jsx)(A,{})}),Object(w.jsx)(m.b,{path:"/asset/:index",element:Object(w.jsx)(y.a,{address:this.state.address,connector:this.state.connector})}),Object(w.jsx)(m.b,{path:"*",element:Object(w.jsx)(m.a,{to:"/",replace:!0})})]})})]})}}]),n}(s.a.Component),P=N,I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,380)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};o.a.render(Object(w.jsx)(s.a.StrictMode,{children:Object(w.jsx)(P,{})}),document.getElementById("root")),I()},59:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n(1),s=n(22),c=n.n(s),o=n(13),i=Object(r.a)((function e(){Object(a.a)(this,e),this.isMainNet="production"===o.j.Production,this.algodHost=this.isMainNet?o.a:o.b,this.algod=new c.a.Algodv2("",this.algodHost,""),this.indexerHost=this.isMainNet?o.f:o.g,this.indexer=new c.a.Indexer("",this.indexerHost,"")}))},83:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(3),a=n(2),s=n(1),c=n(0),o=n.n(c),i=n(206),u=n(216),l=n(214),d=n.n(l),f=n(22),p=n.n(f),b=n(13),h=Object(a.a)((function t(){var n=this;Object(s.a)(this,t),this.connector=new u.a({bridge:b.c,qrcodeModal:d.a}),this.sign=function(){var t=Object(r.a)(o.a.mark((function t(r){var a,s,c,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.map((function(t){var r={txn:e.from(p.a.encodeUnsignedTransaction(t)).toString("base64")};return n.connector.accounts.includes(t.from)&&(r.signers=[]),r})),s=Object(i.formatJsonRpcRequest)("algo_signTxn",[a]),t.next=4,n.connector.sendCustomRequest(s);case 4:return c=t.sent,u=c.map((function(t){return t?new Uint8Array(e.from(t,"base64")):null})),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))}).call(this,n(24).Buffer)}},[[378,1,2]]]);
//# sourceMappingURL=main.56c9cef0.chunk.js.map